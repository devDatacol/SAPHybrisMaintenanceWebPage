<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stiamo facendo manutenzione | Datacol</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #282A36 0%, #21232c 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 50px 20px;
            overflow-x: hidden;
        }

        .container {
            text-align: center;
            color: #ffffff;
            z-index: 10;
            padding: 20px;
            max-width: 900px;
            width: 100%;
        }

        .logo-container {
            background: #ffffff;
            padding: 30px 50px;
            border-radius: 15px;
            display: inline-block;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .logo img {
            max-width: 100%;
            height: auto;
        }
        
        h1, .subtitle, .message, .countdown {
            transition: opacity 0.4s ease-in;
        }
        
        .fade-out {
            opacity: 0 !important;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        .subtitle {
            font-size: 1.3em;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        .countdown div {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            width: 100px;
        }
        .countdown span {
            display: block;
            font-size: 2.5em;
            font-weight: 700;
            color: #e4032e;
        }

        .tools-container { position: relative; height: 150px; margin: 40px 0; }
        .tool { position: absolute; font-size: 4em; animation: float 3s ease-in-out infinite; }
        .wrench { left: 10%; animation: spin 4s linear infinite, float 3s ease-in-out infinite; }
        .hammer { right: 15%; top: 20px; animation: hammer 1.5s ease-in-out infinite; }
        .screwdriver { left: 50%; transform: translateX(-50%); animation: float 2.5s ease-in-out infinite; }

        .progress-container { background: rgba(255, 255, 255, 0.1); border-radius: 25px; padding: 12px; margin: 30px auto; max-width: 450px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); }
        .progress-bar { height: 35px; background: linear-gradient(90deg, #e4032e, #c40227, #e4032e); background-size: 200% 100%; border-radius: 25px; animation: progress 3s ease-in-out infinite; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #ffffff; font-size: 1.1em; }
        
        .message { font-size: 1.15em; margin-top: 30px; line-height: 1.7; }
        .message strong { color: #e4032e; }
        
        .nuts-bolts { position: absolute; font-size: 2em; opacity: 0.25; animation: fall 10s linear infinite; }
        
        .contact-info { margin-top: 40px; padding: 20px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 10px; font-size: 0.95em; }
        
        .emoji-rain { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
        
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-30px); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes hammer { 0%, 100% { transform: rotate(0deg) translateY(0); } 25% { transform: rotate(-25deg) translateY(-10px); } 50% { transform: rotate(0deg) translateY(0); } }
        @keyframes progress { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes fall { 0% { top: -10%; transform: rotate(0deg); } 100% { top: 110%; transform: rotate(360deg); } }
        
        @media (max-width: 600px) {
            body { padding: 20px 10px; }
            h1 { font-size: 1.8em; }
            .subtitle { font-size: 1.1em; }
            .countdown { gap: 10px; flex-wrap: wrap; }
            .countdown div { padding: 10px; width: 70px; }
            .countdown span { font-size: 1.8em; }
            .logo-container { padding: 20px; }
            .tool { font-size: 3em; }
            .tools-container { height: 120px; }
        }
        
        a {
			    color: #e4032e;
		    }
    </style>
</head>
<body>
    <div class="emoji-rain" id="emojiRain"></div>
    
    <div class="container">
        <div class="logo-container">
            <div class="logo">
                <img src="https://it.datacol.com/wp-content/uploads/2020/09/1-1.png" alt="Datacol Srl" title="Datacol Srl">
            </div>
        </div>

        <h1 data-lang="mainTitle"></h1>
        <p class="subtitle" data-lang="subtitle"></p>
        
        <div class="countdown" id="countdown"></div>
        
        <div class="tools-container">
            <div class="tool wrench">üîß</div>
            <div class="tool hammer">üî®</div>
            <div class="tool screwdriver">ü™õ</div>
        </div>
        <div class="progress-container">
            <div class="progress-bar">
                <span id="progressText"></span>
            </div>
        </div>
        <div class="message">
            <p data-lang="teamMessage"></p>
            <p style="margin-top: 15px;" data-lang="promise"></p>
            <p style="margin-top: 20px; font-size: 0.95em; opacity: 0.9;">
                <strong data-lang="slogan"></strong>
            </p>
        </div>
        <div class="contact-info">
            <span data-lang="contactUrgent"></span><br>
            üìß <strong><a href="mailto:info@datacol.com">info@datacol.com</a></strong> | üìû <strong>+39 045 6173 888</strong><br>
            üåê <strong><a href="https://www.datacol.com">www.datacol.com</a></strong>
        </div>
    </div>

    <script>
        // --- Language Translation Script ---
        const translations = {
            it: {
                mainTitle: "üîß Stiamo stringendo qualche bullone! üî©", subtitle: "Saremo di nuovo operativi a breve!", teamMessage: "Il nostro team di <strong>professionisti</strong> sta lavorando per migliorare il vostro negozio online!", promise: "Promettiamo di non perdere nessuna vite nel processo. üî©", slogan: "La nostra motivazione, il vostro mestiere", contactUrgent: "üìû Per assistenza urgente, contattate il vostro consulente di zona", 
                progressMessages: ["Lucidando i pixel...", "Insegnando al server a fare il caff√®...", "Calibrando il flusso canalizzatore...", "Cercando la vite mancante...", "Riavvolgendo i nastri di internet...", "Contando i bulloni (due volte)...", "Stringendo i giga-dadi...", "Chiedendo istruzioni al tostapane..."]
            },
            en: {
                mainTitle: "üîß We're tightening some bolts! üî©", subtitle: "We will be back online shortly!", teamMessage: "Our team of <strong>professionals</strong> is working to improve your online store!", promise: "We promise not to lose any screws in the process. üî©", slogan: "Our motivation, your craft", contactUrgent: "üìû For urgent assistance, contact your local consultant", 
                progressMessages: ["Polishing the pixels...", "Teaching the server to make coffee...", "Calibrating the flux capacitor...", "Searching for the missing screw...", "Rewinding the internet tapes...", "Counting the bolts (twice)...", "Tightening the giga-nuts...", "Asking the toaster for instructions..."]
            },
            es: {
                mainTitle: "üîß ¬°Apretando algunos tornillos! üî©", subtitle: "¬°Volveremos a estar operativos en breve!", teamMessage: "¬°Nuestro equipo de <strong>profesionales</strong> est√° trabajando para mejorar su tienda en l√≠nea!", promise: "Prometemos no perder ning√∫n tornillo en el proceso. üî©", slogan: "Nuestra motivaci√≥n, su oficio", contactUrgent: "üìû Para asistencia urgente, contacte a su consultor de zona", 
                progressMessages: ["Puliendo los p√≠xeles...", "Ense√±ando al servidor a hacer caf√©...", "Calibrando el condensador de flujo...", "Buscando el tornillo perdido...", "Rebobinando las cintas de internet...", "Contando los pernos (dos veces)...", "Apretando las giga-tuercas...", "Pidiendo instrucciones a la tostadora..."]
            }
        };

        let langIndex = 0;
        const languages = Object.keys(translations);
        let currentLang = languages[langIndex];
        let msgIndex = 0;
        const progressText = document.getElementById('progressText');
        const textElements = document.querySelectorAll('[data-lang]');

        function updateContentForLanguage() {
            currentLang = languages[langIndex];
            document.documentElement.lang = currentLang;
            
            textElements.forEach(el => el.classList.add('fade-out'));
            
            setTimeout(() => {
                textElements.forEach(el => {
                    const key = el.getAttribute('data-lang');
                    if (translations[currentLang][key]) {
                        el.innerHTML = translations[currentLang][key];
                    }
                    el.classList.remove('fade-out');
                });
            }, 400);

            msgIndex = 0;
            if(translations[currentLang]) {
               progressText.textContent = translations[currentLang].progressMessages[msgIndex];
            }
            langIndex = (langIndex + 1) % languages.length;
        }

        setInterval(() => {
            if (!translations[currentLang]) return;
            const messages = translations[currentLang].progressMessages;
            msgIndex = (msgIndex + 1) % messages.length;
            progressText.textContent = messages[msgIndex];
        }, 3000);

        setInterval(updateContentForLanguage, 6000);
        updateContentForLanguage();

        
        // --- Dynamic Countdown Timer from Azure ---
        const countdownEl = document.getElementById('countdown');

        // !!! IMPORTANT: Replace this URL with the URL of your config.json file in Azure Blob Storage !!!
        const configUrl = 'https://sap-hybris-maintenance-configuration.s3.eu-north-1.amazonaws.com/config.json';

        fetch(configUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(config => {
                const launchDate = new Date(config.maintenanceEndTime).getTime();

                const timer = setInterval(() => {
                    const now = new Date().getTime();
                    const distance = launchDate - now;

                    if (distance < 0) {
                        clearInterval(timer);
                        countdownEl.innerHTML = "<div style='width:100%;'>Siamo di nuovo online!</div>";
                        return;
                    }

                    const d = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const s = Math.floor((distance % (1000 * 60)) / 1000);

                    countdownEl.innerHTML = `<div><span>${d}</span> giorni</div> <div><span>${h}</span> ore</div> <div><span>${m}</span> min</div> <div><span>${s}</span> sec</div>`;
                }, 1000);
            })
            .catch(error => {
                console.error("Could not load maintenance configuration:", error);
                countdownEl.innerHTML = "<div style='width:100%; font-size: 0.8em;'>Impossibile caricare il timer del conto alla rovescia.</div>";
            });


        // --- Falling Emojis ---
        const emojiRain = document.getElementById('emojiRain');
        const nutsBolts = ['üî©', '‚öôÔ∏è', 'üîß', 'ü™õ', '‚ö°'];
        function createFallingEmoji() {
            const emoji = document.createElement('div');
            emoji.className = 'nuts-bolts';
            emoji.textContent = nutsBolts[Math.floor(Math.random() * nutsBolts.length)];
            emoji.style.left = Math.random() * 100 + '%';
            emoji.style.animationDuration = (Math.random() * 5 + 8) + 's';
            emoji.style.animationDelay = Math.random() * 5 + 's';
            emojiRain.appendChild(emoji);
            setTimeout(() => emoji.remove(), 15000);
        }
        setInterval(createFallingEmoji, 800);
        for(let i = 0; i < 15; i++) { createFallingEmoji(); }
    </script>
</body>
</html>
